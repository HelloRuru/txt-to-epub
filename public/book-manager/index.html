<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">

  <title>電子書書櫃管理 | Hello Ruru Tools</title>
  <meta name="description" content="跨平台電子書書櫃整合工具。匯入讀墨、Kobo 書單，自動偵測重複購買，整理你的電子書收藏。">
  <meta name="author" content="Hello Ruru">
  <link rel="canonical" href="https://tools.helloruru.com/book-manager/">

  <meta property="og:type" content="website">
  <meta property="og:title" content="電子書書櫃管理｜跨平台去重">
  <meta property="og:description" content="匯入讀墨、Kobo 書單，自動偵測重複購買，整理你的電子書收藏。">
  <meta property="og:url" content="https://tools.helloruru.com/book-manager/">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">

  <link rel="preconnect" href="https://lab.helloruru.com" crossorigin>
  <style>
    @font-face { font-family: 'GenSenRounded'; src: url('https://lab.helloruru.com/fonts/GenSenRounded-Regular.woff2') format('woff2'); font-weight: 400; font-display: swap; }
    @font-face { font-family: 'GenSenRounded'; src: url('https://lab.helloruru.com/fonts/GenSenRounded-Medium.woff2') format('woff2'); font-weight: 500; font-display: swap; }
    @font-face { font-family: 'GenSenRounded'; src: url('https://lab.helloruru.com/fonts/GenSenRounded-Bold.woff2') format('woff2'); font-weight: 700; font-display: swap; }
  </style>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Header -->
  <header class="brand-header">
    <a href="https://tools.helloruru.com" class="brand-link">
      <span class="brand-name">Hello Ruru Tools</span>
    </a>
    <button class="btn-icon" id="btn-dark-mode" aria-label="切換深色模式">
      <i data-lucide="moon" width="18" height="18"></i>
    </button>
  </header>

  <main class="main">
    <!-- Hero -->
    <div class="hero">
      <h1>電子書書櫃管理</h1>
      <p>登入你的電子書平台，一鍵撈出全部藏書，自動找出重複的。</p>
    </div>

    <!-- ── 使用說明 ── -->
    <section class="section guide">
      <div class="guide-card">
        <p>買書的時候總覺得，欸這本好像買過了？</p>
        <p>翻了讀墨，翻了 Kobo，翻了實體書櫃。</p>
        <p>結果真的登記過了，哈哈。</p>
        <div class="guide-divider"></div>
        <p>所以做了這個小工具，幫自己整理一下：</p>
        <p class="guide-steps">
          ➊ 填帳密，按一下，書櫃整本撈出來<br>
          ➋ 跨平台自動比對，重複的幫你標好<br>
          ➌ 密碼不存、不傳、撈完就丟
        </p>
        <p class="guide-note">雖然就是個簡單的東西，但少買一本重複的就是開心。</p>
      </div>
    </section>

    <!-- ── 平台連接 ── -->
    <section class="section" id="section-connect">
      <h2>連接書櫃</h2>

      <!-- 讀墨 -->
      <div class="platform-card" id="card-readmoo">
        <div class="platform-head">
          <span class="platform-dot" style="background:#00C1FF"></span>
          <strong>讀墨 Readmoo</strong>
          <span class="platform-status" id="status-readmoo"></span>
        </div>
        <div class="platform-form" id="form-readmoo">
          <input type="email" id="readmoo-email" class="input" placeholder="讀墨帳號（Email）" autocomplete="email">
          <input type="password" id="readmoo-pass" class="input" placeholder="密碼" autocomplete="current-password">
          <button class="btn btn-readmoo" id="btn-fetch-readmoo">
            <i data-lucide="download-cloud" width="16" height="16"></i> 撈取書櫃
          </button>
          <p class="form-note">密碼不會儲存，僅用於即時登入撈取。</p>
        </div>
        <div class="platform-progress" id="progress-readmoo" style="display:none">
          <div class="progress-bar"><div class="progress-fill fill-readmoo" id="fill-readmoo"></div></div>
          <span class="progress-text" id="text-readmoo">撈取中...</span>
        </div>
        <div class="platform-result" id="result-readmoo" style="display:none"></div>
      </div>

      <!-- Kobo -->
      <div class="platform-card" id="card-kobo">
        <div class="platform-head">
          <span class="platform-dot" style="background:#BF0000"></span>
          <strong>樂天 Kobo</strong>
          <span class="platform-status" id="status-kobo"></span>
        </div>
        <div class="platform-form" id="form-kobo">
          <input type="email" id="kobo-email" class="input" placeholder="Kobo 帳號（Email）" autocomplete="email">
          <input type="password" id="kobo-pass" class="input" placeholder="密碼" autocomplete="current-password">
          <button class="btn btn-kobo" id="btn-fetch-kobo">
            <i data-lucide="download-cloud" width="16" height="16"></i> 撈取書櫃
          </button>
          <p class="form-note">密碼不會儲存，僅用於即時登入撈取。</p>
        </div>
        <div class="platform-progress" id="progress-kobo" style="display:none">
          <div class="progress-bar"><div class="progress-fill fill-kobo" id="fill-kobo"></div></div>
          <span class="progress-text" id="text-kobo">撈取中...</span>
        </div>
        <div class="platform-result" id="result-kobo" style="display:none"></div>
      </div>

      <!-- 本機 / 手動 -->
      <div class="platform-card" id="card-calibre">
        <div class="platform-head">
          <span class="platform-dot" style="background:#06A865"></span>
          <strong>本機藏書</strong>
        </div>
        <textarea id="manual-paste" class="textarea" rows="4" placeholder="一行一本書名，或 書名,作者"></textarea>
        <button class="btn btn-calibre" id="btn-add-manual">
          <i data-lucide="plus" width="16" height="16"></i> 加入
        </button>
      </div>
    </section>

    <!-- ── 書櫃 + 去重 ── -->
    <section class="section" id="section-library" style="display:none">
      <div class="library-header">
        <h2>你的書櫃 <span class="count-badge" id="total-badge">0</span></h2>
        <div class="library-actions">
          <input type="text" id="search-input" class="input input-search" placeholder="搜尋...">
          <button class="btn btn-sm btn-outline" id="btn-export">匯出</button>
          <button class="btn btn-sm btn-danger-outline" id="btn-clear">清空</button>
        </div>
      </div>

      <!-- 篩選 -->
      <div class="filter-row">
        <button class="pill active" data-filter="all">全部</button>
        <button class="pill" data-filter="duplicate">重複</button>
        <button class="pill pill-readmoo" data-filter="readmoo">讀墨</button>
        <button class="pill pill-kobo" data-filter="kobo">Kobo</button>
        <button class="pill pill-calibre" data-filter="calibre">本機</button>
      </div>

      <!-- 重複提示 -->
      <div class="dup-banner" id="dup-banner" style="display:none">
        <i data-lucide="alert-triangle" width="18" height="18"></i>
        <span id="dup-banner-text"></span>
      </div>

      <!-- 重複群組 -->
      <div id="dup-groups"></div>

      <!-- 書單 -->
      <div id="book-list"></div>

      <!-- 空狀態 -->
      <div class="empty" id="empty-state">
        <p>連接平台或貼上書名，就能開始了。</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2026 <a href="https://ohruru.com">Kaoru Tsai</a></p>
  </footer>

  <!-- Toast -->
  <div id="toast" class="toast" style="display:none"></div>

  <script src="js/app.js"></script>
</body>

</html>
