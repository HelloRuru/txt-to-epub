import { useState } from 'react'

const EMOJI_CATEGORIES = [
  {
    id: 'smileys',
    label: 'üòä',
    name: 'Ë°®ÊÉÖ',
    emojis: [
      'üòä', 'üòÑ', 'üòÇ', 'ü•∞', 'üòç', 'ü§ó', 'üòé', 'ü§î',
      'üòÖ', 'üôÉ', 'üòá', 'ü§©', 'üòã', 'ü•≤', 'ü´°', 'ü´∂',
      'üòè', 'üòå', 'ü§≠', 'üò¨', 'ü´£', 'ü•∫', 'üò¢', 'üò≠',
      'üò§', 'ü§Ø', 'üò±', 'ü•≥', 'üò¥', 'ü§Æ', 'ü§ß', 'ü•¥',
      'üòà', 'ü§°', 'üëª', 'üíÄ', 'üëΩ', 'ü§ñ', 'üò∫', 'üò∏',
      'üôà', 'üôâ', 'üôä', 'üí©', 'ü´†', 'ü´•', 'ü´§', 'ü•±',
    ],
  },
  {
    id: 'gestures',
    label: 'üëã',
    name: 'ÊâãÂã¢',
    emojis: [
      'üëç', 'üëè', 'üôè', 'üí™', '‚úåÔ∏è', 'ü§û', 'üëå', 'ü§ù',
      'üëã', '‚úã', 'ü´∞', 'ü§ü', 'ü§ò', 'üëÜ', 'üëá', 'üëâ',
      'üëà', 'ü´µ', '‚òùÔ∏è', 'ü§ô', 'ü´∂', 'üëä', '‚úä', 'ü§õ',
      'ü§ú', 'ü´±', 'ü´≤', 'ü´≥', 'ü´¥', 'ü§å', 'ü§è', 'üëê',
      'üôå', 'ü§≤', 'üíÖ', 'ü§≥', 'ü¶æ', 'ü¶ø', 'üëÄ', 'üëÅÔ∏è',
      'üëÇ', 'üëÉ', 'üëÑ', 'ü´¶', 'üëÖ', 'ü¶∑', 'ü¶¥', 'üíã',
    ],
  },
  {
    id: 'hearts',
    label: '‚ù§Ô∏è',
    name: 'ÊÑõÂøÉ',
    emojis: [
      '‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó', 'üíì', 'üíù', 'üíò', 'ü©∑',
      'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü©µ',
      '‚ù§Ô∏è‚Äçüî•', '‚ù§Ô∏è‚Äçü©π', 'üíî', '‚ù£Ô∏è', 'üíü', '‚ô•Ô∏è', 'ü´Ä', 'üíå',
      'üíë', 'üíè', 'üë©‚Äç‚ù§Ô∏è‚Äçüë®', 'üíç', 'ü•Ä', 'üåπ', 'üíê', 'üéÄ',
      'ü©∞', 'ü¶ã', 'üïäÔ∏è', 'ü§é', 'üíû', 'üíì', 'üíó', 'üíù',
      'ü´Ç', 'üíë', 'üë´', 'üë≠', 'üë¨', 'ü•Ç', 'üç∑', 'üåô',
    ],
  },
  {
    id: 'nature',
    label: 'üå∏',
    name: 'Ëá™ÁÑ∂',
    emojis: [
      'üå∏', 'üå∫', 'üåª', 'üå∑', 'üåπ', 'üçÄ', 'üåø', 'üçÉ',
      'üåô', '‚≠ê', '‚ú®', 'üåà', '‚òÄÔ∏è', 'üåä', 'üî•', '‚ùÑÔ∏è',
      'üçÅ', 'üçÇ', 'üåæ', 'üå¥', 'üåµ', 'üéã', 'üéç', 'ü™ª',
      'ü™∑', 'üå±', 'üå≤', 'üå≥', 'üéÑ', 'ü™µ', 'üçÑ', 'üêö',
      'ü¶Ä', 'üê†', 'üê¨', 'üêã', 'ü¶©', 'ü¶ú', 'üêøÔ∏è', 'ü¶ä',
      'üê∂', 'üê±', 'üê∞', 'üêª', 'üêº', 'ü¶Å', 'üêØ', 'ü¶Ñ',
    ],
  },
  {
    id: 'food',
    label: 'üçé',
    name: 'È£üÁâ©',
    emojis: [
      'üçé', 'üçä', 'üçã', 'üçá', 'üçì', 'ü´ê', 'üçë', 'ü•ë',
      '‚òï', 'üßã', 'üçµ', 'üç∞', 'üßÅ', 'üç©', 'üç™', 'üéÇ',
      'üçï', 'üçî', 'üåÆ', 'üçú', 'üç£', 'üç±', 'ü•ü', 'üçô',
      'üç¶', 'üßá', 'ü•ê', 'ü•Ø', 'ü•û', 'üßÄ', 'ü•©', 'üç≥',
      'ü•ó', 'üçø', 'ü´ï', 'ü•ò', 'üçù', 'üåØ', 'ü•ô', 'üßÜ',
      'üç´', 'üç¨', 'üç≠', 'üßÉ', 'ü•§', 'üç∫', 'üç∑', 'ü•Ç',
    ],
  },
  {
    id: 'symbols',
    label: '‚úÖ',
    name: 'Á¨¶Ëôü',
    emojis: [
      '‚úÖ', '‚ùå', '‚≠ï', 'üíØ', '‚ö°', 'üéØ', 'üìå', 'üîî',
      'üì¢', 'üí°', 'üéâ', 'üèÜ', 'üöÄ', 'üíé', 'üîë', 'üìù',
      'üè∑Ô∏è', 'üìé', 'üîó', 'üìä', 'üìà', 'üìâ', 'üóÇÔ∏è', 'üìÅ',
      'üóìÔ∏è', '‚è∞', '‚è≥', 'üîí', 'üîì', 'üõ°Ô∏è', '‚öôÔ∏è', 'üîß',
      'üí∞', 'üí≥', 'üéÅ', 'üéà', 'üéä', 'üèÖ', 'ü•á', 'ü•à',
      'üì±', 'üíª', 'üñ•Ô∏è', 'üéÆ', 'üéß', 'üì∏', 'üé¨', 'üéµ',
    ],
  },
  {
    id: 'mono',
    label: '‚ñ†',
    name: 'ÈªëÁôΩÁ¨¶Ëôü',
    emojis: [
      '‚ñ†', '‚ñ°', '‚ñ™', '‚ñ´', '‚ñ≤', '‚ñ≥', '‚ñº', '‚ñΩ',
      '‚óÜ', '‚óá', '‚óâ', '‚óã', '‚óè', '‚óé', '‚òÖ', '‚òÜ',
      '‚ú¶', '‚úß', '‚ú¥', '‚úµ', '‚ú∂', '‚ú∑', '‚ú∏', '‚úπ',
      '‚ñã', '‚ñå', '‚ñç', '‚ñé', '‚ñè', '‚ñê', '‚ñë', '‚ñí',
      '‚ñì', '‚ñà', '‚ñû', '‚ñö', '‚ñõ', '‚ñú', '‚ñô', '‚ñü',
      '‚îÄ', '‚îÅ', '‚îÇ', '‚îÉ', '‚ïê', '‚ïë', '‚ï±', '‚ï≤',
      '‚ô†', '‚ô£', '‚ô•', '‚ô¶', '‚ô™', '‚ô´', '‚ô§', '‚ôß',
      '‚Üí', '‚Üê', '‚Üë', '‚Üì', '‚Üó', '‚Üò', '‚Üô', '‚Üñ',
    ],
  },
  {
    id: 'kaomoji',
    label: '‚ó°Ãà',
    name: 'È°èÊñáÂ≠ó',
    emojis: [
      '( ·µî‚ó°·µî )',
      '(‚ï•Ôπè‚ï•)',
      '( À∂ÀÜ·óúÀÜÀµ )',
      '(‚∏ù‚∏ù‚∏ù¬∞_¬∞‚∏ù‚∏ù‚∏ù)',
      '(‡πë>‚ó°<‡πë)',
      '( ‚Ä¢ÃÄœâ‚Ä¢ÃÅ )‚úß',
      '(¬¥„Éªœâ„Éª`)',
      '(·óí·ó©·óï)',
      '(‚âß‚ñΩ‚â¶)',
      '(Îàà‚Ä∏Îàà)',
      '(„Å£ÀòœâÀòœÇ)',
      '( ¬¥Õà ·µï `Õà )‚óû‚ô°',
      '\\(œã)/',
      '(‡∏á ‚Ä¢_‚Ä¢)‡∏á',
      '(À∂‚Äæ·∑Ñ ‚ÅªÃ´ ‚Äæ·∑ÖÀµ)',
      '(‚åê‚ñ†_‚ñ†)',
    ],
  },
]

export default function EmojiPicker({ onSelect }) {
  const [activeCategory, setActiveCategory] = useState('smileys')

  const currentCategory = EMOJI_CATEGORIES.find(c => c.id === activeCategory) || EMOJI_CATEGORIES[0]
  const isWide = currentCategory.id === 'kaomoji'

  return (
    <div className="mt-3">
      <div
        className="text-xs mb-1.5 font-medium"
        style={{ color: 'var(--text-muted)' }}
      >
        Emoji„ÉªÁ¨¶Ëôü„ÉªÈ°èÊñáÂ≠ó
      </div>

      {/* ÂàÜÈ°ûÊ®ôÁ±§ */}
      <div className="flex gap-1 mb-2 flex-wrap">
        {EMOJI_CATEGORIES.map((cat) => (
          <button
            key={cat.id}
            onClick={() => setActiveCategory(cat.id)}
            className="h-8 px-2 flex items-center justify-center rounded-lg text-sm transition-all duration-200"
            style={{
              background: activeCategory === cat.id ? 'var(--bg-card)' : 'transparent',
              border: activeCategory === cat.id ? '1px solid var(--border)' : '1px solid transparent',
            }}
            title={cat.name}
          >
            {cat.label}
          </button>
        ))}
      </div>

      {/* Ê†ºÂ≠ê */}
      <div
        className="overflow-y-auto overflow-x-hidden rounded-lg"
        style={{ height: '140px' }}
      >
        <div className={`grid gap-0.5 ${isWide ? 'grid-cols-2 sm:grid-cols-3' : 'grid-cols-8'}`}>
          {currentCategory.emojis.map((item, i) => (
            <button
              key={`${item}-${i}`}
              onClick={() => onSelect(item)}
              className={`flex items-center justify-center rounded-lg transition-colors duration-150 ${
                isWide ? 'px-2 py-1.5 text-xs' : 'w-8 h-8 text-base'
              }`}
              style={{
                background: isWide ? 'var(--bg-secondary)' : 'transparent',
                border: isWide ? '1px solid var(--border)' : 'none',
                color: 'var(--text-primary)',
              }}
            >
              {item}
            </button>
          ))}
        </div>
      </div>
    </div>
  )
}
